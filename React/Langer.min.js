class LANGUAJE5{constructor({functions=!0,markdown=!0,autosave=!1}={}){let self=this;this.stor=!1,this.route=void 0,this.allow={functions:functions,markdown:markdown,autosave:autosave},this.config={CACHE:{},lang:"",lastLang:{}},this.functions={mi(a){return`<i class="material-icon">${a}</i>`},lang(a){let b=self.config.CACHE[self.config.lang][a];return"this"==a&&(b=self.config.lang),b??"(undefined)"},mat(operation){let valid=operation.match(/(\d|\s|[+*/-])+/gim);return null==valid?"invalid operation.":eval(valid[0])},var(variable){let result,Var=variable.match(/\w+((.\w+\]?)*)/gim)[0];return null!=Var&&null==Var.slice(0,1).match(/[0-9]/gim)&&(result=eval(Var)),result}},localStorage.getItem("LANGUAJE5")!=null&&!0==this.allow.autosave&&(this.config.lang=JSON.parse(localStorage.getItem("LANGUAJE5")));let style=document.createElement("style");style.innerHTML=`lang-5 {display: none;}lang-5[use]{display: inline;}`,document.head.appendChild(style)}async get(a){let b=this,c=!1;return null==this.route?(console.error(`LANGUAJE5 Error: \n you need to set a path to get the json files \n use LANGUAJE.setRoute()`),!1):(null==b.config.CACHE[a]?await fetch(`${this.route}${a}.json`).then(a=>a.json()).then(d=>{b.config.CACHE[a]=d,b.config.lang=a,localStorage.setItem("LANGUAJE5",JSON.stringify(b.config.lang)),c=b.config.CACHE[a]}).catch(()=>{console.error(`LANGUAJE5 Error: \nan error occurred, could not get the json files`),c=!1}):(b.config.lang=a,localStorage.setItem("LANGUAJE5",JSON.stringify(b.config.lang)),c=b.config.CACHE[a]),c)}motor(a){let b=a;return b=b.replace(/(\w+)\((.*?)\)/gim,(a,b,c)=>this.functions[b]?this.functions[b](c):a),b}markdown(a){if(!0==this.allow.markdown){let b=(a,b)=>`<${a}>${b}</${a}>`;a=a.replace(/((\*\*|\_\_))([^*]+)(\1)/gims,(a,c,d,e)=>b("strong",e)),a=a.replace(/((\*|\_))([^*]+)(\1)/gims,(a,c,d,e)=>b("em",e)),a=a.replace(/(~~)([^~]+)(~~)/gims,(a,c,d)=>b("del",d))}return a}getKey(a=""){if("string"==typeof a)return this.config.lastLang[a]}StringGenerator(a,b){return this.markdown(a?!0==this.allow.functions&&b.getAttribute("noFunctions")==null?this.motor(a):a:"")}async set(a=""){if(null==a||null==a||!1==["string","object"].includes(typeof a)||!0==Array.isArray(a))return console.error(`LANGUAJE5 Error:\n LANGUAJE.set() can only receive a string or an object as a parameter.`),!1;!0==this.allow.autosave&&!1==this.stor&&(this.stor=!0,""!=this.config.lang&&(a=this.config.lang));let b="object"==typeof a?a:await this.get(a);this.config.lastLang=b,!1!=b&&setTimeout(()=>{document.querySelectorAll("lang-5").forEach(c=>{if(c.setAttribute("use",""),null!=c.lenguaje&&c.lenguaje==a)return!1;let d=c.innerHTML;null==c.target&&(c.target=d),c.lenguaje=a;let e=b[c.target]??"(undefined)";c.innerHTML=this.StringGenerator(e,c)})},0)}Update(){this.set(this.config.lastLang)}setFunction(...a){a.forEach(a=>{this.functions[a.name]=a})}setRoute(a){"string"==typeof a?this.route=a:console.error(`LANGUAJE5 Error:\n LANGUAJE.setRout() can only receive a string as a parameter.`)}}class LangHTML extends HTMLElement{constructor(){super()}connectedCallback(){if(this.target=this.innerText,this.innerHTML="",""!=LANGUAJE.config.lang){let a=LANGUAJE.config.lang;null!=LANGUAJE.config.CACHE[a]&&(this.innerHTML=LANGUAJE.StringGenerator(LANGUAJE.config.CACHE[a][this.target]??"(undefined)",this)),this.setAttribute("use","true")}}}function Lang(a){let b={};return!0==a.noFunctions&&(b.noFunctions=!0),React.createElement("lang-5",b,a.children)}customElements.define("lang-5",LangHTML);