/**
 * 	Langer 6.3 React version
 *	LICENCE MIT SagiriIkeda
 */
class LANGUAJE6{constructor({functions:a=!0,markdown:b=!0,autosave:c=!1,defaultText:d="(undefined)"}={}){let e=this;this.stor=!1,this.color="color:#FFC107",this.route=void 0,this.allow={functions:a,markdown:b,autosave:c},this.config={CACHE:{},lang:"",lastLang:{},defaultText:d},this.functions={lang(a){let b=e.config.CACHE[e.config.lang][a];return"this"==a&&(b=e.config.lang),b??e.config.defaultText}},localStorage.getItem("LANGUAJE6")!=null&&!0==this.allow.autosave&&(this.config.lang=JSON.parse(localStorage.getItem("LANGUAJE6"))),LANGUAJECONTEXT=this;let f=document.createElement("style");f.innerHTML=`md {display: contents;}`,document.head.appendChild(f)}async get(a){let b=this,c=!1;if(null==this.route)return console.error(`LANGUAJE6 Error: \n you need to set a path to get the json files \n use LANGUAJE.setRoute()`),!1;if(null==b.config.CACHE[a]){const d=`${this.route}${a}.json`;await fetch(d).then(a=>404==a.status?404:a.text()).then(e=>{if(404==e)return console.error(`LANGUAJE6 Error: \nFile "${d}" not found`),c=!1,void(c.__proto__.code="404");try{let d=JSON.parse(e);b.config.CACHE[a]=d,b.config.lang=a,localStorage.setItem("LANGUAJE6",JSON.stringify(b.config.lang)),c=b.config.CACHE[a]}catch(a){return console.error(`LANGUAJE6 Error: Invalid JSON ${a.message.replace(/ in JSON$/m,"")} file: ${d} `),c=!1,void(c.__proto__.code="InvalidJSON")}})}else b.config.lang=a,localStorage.setItem("LANGUAJE6",JSON.stringify(b.config.lang)),c=b.config.CACHE[a];return c}FunctionsMotor(a,b){if(!0!=this.allow.functions||!0==b)return a;let c=a;return c=c.replace(/(\w+)\((.*?)\)/gim,(a,b,c)=>this.functions[b]?this.functions[b](c):a),c}markdown3(a){let b=!1;if(!0==this.allow.markdown){let c=(a,b)=>`<${a}>${b}</${a}>`;a=a.replace(/((\*\*|\_\_))(.*?)(\1)/gims,(a,d,e,f)=>(b=!0,c("strong",f))),a=a.replace(/((\*|\_))(.*?)(\1)/gims,(a,d,e,f)=>(b=!0,c("em",f))),a=a.replace(/(~~)(.*?)(~~)/gims,(a,d,e)=>(b=!0,c("del",e))),a=a.replace(/(`)(.*?)(`)/gims,(a,d,e)=>(b=!0,c("code",e)))}return a.__proto__.allowMD=b,a}getKey(a=""){if("string"==typeof a)return this.config.lastLang[a.trim()]?.replace(/</g,"&lt;").replace(/>/g,"&gt;")??this.config.defaultText}PlaceholdersMotor(a,b){return null==b?a:a.replace(/%([A-Z_0-9\-]+)%/gim,(a,c)=>{if(["class","style","id"].includes(c))return a;if(null!=b[c]){let a=b[c];return a}return a})}Motor(a,b,c=!1){let d=this.getKey(a);return d=this.PlaceholdersMotor(d,b),d=this.FunctionsMotor(d,c),d=this.markdown3(d),d}async set(a="",b={}){if(null==a||null==a||!1==["string","object"].includes(typeof a)||!0==Array.isArray(a))return console.error(`LANGUAJE6 Error:\n LANGUAJE.set() can only receive a string or an object as a parameter.`),!1;!0==this.allow.autosave&&!1==this.stor&&(this.stor=!0,""!=this.config.lang&&(a=this.config.lang));let c;c="string"==typeof a&&a==this.config.lang?null==this.config.CACHE[a]?await this.get(a):this.config.lastLang:"object"==typeof a?a:await this.get(a),!1==c?b.error&&"function"==typeof b.error&&b.error(c.code):(this.config.lastLang=c,b.load&&"function"==typeof b.load&&b.load(),this.componentUpdate!=null&&this.componentUpdate({}))}setFunction(...a){a.forEach(a=>{this.functions[a.name]=a})}setRoute(a){"string"==typeof a?this.route=a:console.error(`LANGUAJE6 Error:\n LANGUAJE.setRout() can only receive a string as a parameter.`)}}let LANGUAJECONTEXT={};
/**
 * 	return the procesed value of an key
 * @example
 * <Lang>key</Lang>
 */
function Lang(a){let b=a.children,c=Object.keys(a);if(""!=LANGUAJECONTEXT.config.lang){let d=c[0],e=LANGUAJECONTEXT.Motor(b,a.place,a.noFunctions??!1);if(["noFunctions","children","place","hr","br","className","id"].includes(c[0])||/on[A-Z][a-z]*/.test(c[0]))return!0===e.allowMD?React.createElement("md",{dangerouslySetInnerHTML:{__html:e}}):e;else{let b={};return null!=a.className&&(b.className=a.className),!0===e.allowMD?React.createElement(d,{...b,dangerouslySetInnerHTML:{__html:e}}):React.createElement(d,b,e)}}return LANGUAJECONTEXT.config.defaultText}
/**
 * 	Languaje Controller initializer
 * @example
 * <LangerCtrl context={this}>
 *  ...
 * </LangerCtrl>
 */
class LangerCtrl extends React.Component{constructor(a){super(a),LANGUAJECONTEXT.componentUpdate=()=>{this.props.context.setState({})}}render(){return this.props.children}}